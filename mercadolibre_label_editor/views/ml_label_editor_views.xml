<?xml version="1.0" encoding="utf-8"?>
<odoo>

    <!-- Editor Visual Form View (Fullscreen) -->
    <record id="view_ml_label_template_editor" model="ir.ui.view">
        <field name="name">ml.label.template.editor</field>
        <field name="model">ml.label.template</field>
        <field name="arch" type="xml">
            <form string="Editor Visual de Plantilla">
                <header>
                    <button string="Guardar y Cerrar" class="oe_highlight"
                            special="save" data-hotkey="s"/>
                    <button string="Cerrar sin Guardar" special="cancel"/>
                </header>
                <sheet>
                    <div class="oe_title mb-3">
                        <h1><field name="name" readonly="1"/></h1>
                    </div>

                    <div class="row">
                        <!-- Panel izquierdo: Canvas del PDF -->
                        <div class="col-lg-8">
                            <group string="Vista Previa del PDF">
                                <field name="sample_pdf" widget="label_editor" nolabel="1"/>
                                <field name="pdf_width" invisible="1"/>
                                <field name="pdf_height" invisible="1"/>
                                <field name="field_count" invisible="1"/>
                            </group>
                        </div>

                        <!-- Panel derecho: Campos configurados -->
                        <div class="col-lg-4">
                            <group string="Campos Configurados">
                                <p class="text-muted">Use la pestaña "Campos de Texto" en el formulario principal para agregar campos.</p>
                            </group>

                            <field name="field_ids" nolabel="1">
                                <tree editable="bottom" create="true" delete="true">
                                    <field name="sequence" widget="handle"/>
                                    <field name="name"/>
                                    <field name="value"/>
                                    <field name="position_x"/>
                                    <field name="position_y"/>
                                    <field name="active" widget="boolean_toggle"/>
                                </tree>
                            </field>

                            <div class="alert alert-info mt-3" role="alert">
                                <h6><i class="fa fa-info-circle"/> Atajos:</h6>
                                <ul class="mb-0 small">
                                    <li>Click en un campo para editarlo</li>
                                    <li>Use el handle (☰) para reordenar</li>
                                    <li>Toggle activo/inactivo para ocultar campos temporalmente</li>
                                </ul>
                            </div>
                        </div>
                    </div>

                </sheet>
            </form>
        </field>
    </record>


</odoo>
