<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <!-- Cron: Refresh Tokens cada 30 minutos -->
    <record id="ir_cron_refresh_tokens" model="ir.cron">
        <field name="name">ML: Refresh Tokens Automático</field>
        <field name="model_id" ref="model_mercadolibre_token"/>
        <field name="state">code</field>
        <field name="code">model._cron_refresh_tokens()</field>
        <field name="interval_number">30</field>
        <field name="interval_type">minutes</field>
        <field name="numbercall">-1</field>
        <field name="doall" eval="False"/>
        <field name="active" eval="True"/>
        <field name="user_id" ref="base.user_admin"/>
    </record>

    <!-- Cron: Expirar invitaciones cada día -->
    <record id="ir_cron_expire_invitations" model="ir.cron">
        <field name="name">ML: Expirar Invitaciones</field>
        <field name="model_id" ref="model_mercadolibre_invitation"/>
        <field name="state">code</field>
        <field name="code">model._cron_expire_invitations()</field>
        <field name="interval_number">1</field>
        <field name="interval_type">days</field>
        <field name="numbercall">-1</field>
        <field name="doall" eval="False"/>
        <field name="active" eval="True"/>
        <field name="user_id" ref="base.user_admin"/>
    </record>

    <!-- Cron: Limpiar logs antiguos cada semana -->
    <record id="ir_cron_clean_old_logs" model="ir.cron">
        <field name="name">ML: Limpiar Logs Antiguos (90+ días)</field>
        <field name="model_id" ref="model_mercadolibre_log"/>
        <field name="state">code</field>
        <field name="code">model._cron_clean_old_logs()</field>
        <field name="interval_number">1</field>
        <field name="interval_type">weeks</field>
        <field name="numbercall">-1</field>
        <field name="doall" eval="False"/>
        <field name="active" eval="True"/>
        <field name="user_id" ref="base.user_admin"/>
    </record>
</odoo>
